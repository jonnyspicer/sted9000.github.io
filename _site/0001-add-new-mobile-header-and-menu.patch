From 1e72a9649c026d6160ead038f29ce81bf6c9a0c6 Mon Sep 17 00:00:00 2001
From: Jonny Spicer <spicerjonny@gmail.com>
Date: Sat, 29 Feb 2020 18:13:24 +0000
Subject: [PATCH] add new mobile header and menu

---
 _includes/header.html |  17 ++--
 _sass/_hamburger.scss |  76 ----------------
 _sass/_header.scss    | 195 ++++++++++++++++++++++++++++++++----------
 _sass/_settings.scss  |   1 +
 4 files changed, 163 insertions(+), 126 deletions(-)
 delete mode 100644 _sass/_hamburger.scss

diff --git a/_includes/header.html b/_includes/header.html
index 3740286f..4939878f 100644
--- a/_includes/header.html
+++ b/_includes/header.html
@@ -1,9 +1,16 @@
 <header>
-  <button class="hamburger hamburger--slider" type="button" name="expand-menu-button">
-    <span class="hamburger-box">
-      <span class="hamburger-inner"></span>
-    </span>
-  </button>
+  <div class="mobile-header">
+    <div>
+      <a href="/">{{ site.title }}</a>
+    </div>
+    <div class="toggle">
+      <span>
+        <i></i>
+        <i></i>
+        <i></i>
+      </span>
+    </div>
+  </div>
   <nav class="desktop-nav">
     {% for item in site.data.navigation %}
       <a href="{{ item.link }}">
diff --git a/_sass/_hamburger.scss b/_sass/_hamburger.scss
deleted file mode 100644
index 81039920..00000000
--- a/_sass/_hamburger.scss
+++ /dev/null
@@ -1,76 +0,0 @@
-/*!
- * Hamburgers
- * @description Tasty CSS-animated hamburgers
- * @author Jonathan Suh @jonsuh
- * @site https://jonsuh.com/hamburgers
- * @link https://github.com/jonsuh/hamburgers
- */
-.hamburger {
-  padding: 15px 15px;
-  display: inline-block;
-  cursor: pointer;
-  transition-property: opacity, filter;
-  transition-duration: 0.15s;
-  transition-timing-function: linear;
-  font: inherit;
-  color: inherit;
-  text-transform: none;
-  background-color: transparent;
-  border: 0;
-  margin: 0;
-  overflow: visible; }
-
-.hamburger-box {
-  width: 35px;
-  height: 24px;
-  display: inline-block;
-  position: relative;
-  }
-
-.hamburger-inner {
-  display: block;
-  top: 50%;
-  margin-top: -2px; }
-  .hamburger-inner, .hamburger-inner::before, .hamburger-inner::after {
-    width: 35px;
-    height: 4px;
-    background-color: $color_grey_medium;
-    border-radius: 4px;
-    position: absolute;
-    transition-property: transform;
-    transition-duration: 0.15s;
-    transition-timing-function: ease; }
-  .hamburger-inner::before, .hamburger-inner::after {
-    content: "";
-    display: block; }
-  .hamburger-inner::before {
-    top: -10px; }
-  .hamburger-inner::after {
-    bottom: -10px; }
-
-/*
-   * Slider
-   */
-.hamburger--slider .hamburger-inner {
-  top: 2px; }
-  .hamburger--slider .hamburger-inner::before {
-    top: 10px;
-    transition-property: transform, opacity;
-    transition-timing-function: ease;
-    transition-duration: 0.15s; }
-  .hamburger--slider .hamburger-inner::after {
-    top: 20px; }
-
-.hamburger--slider.is-active .hamburger-inner {
-  transform: translate3d(0, 10px, 0) rotate(45deg); 
-  background-color: $color_white;
-}
-  .hamburger--slider.is-active .hamburger-inner::before {
-    transform: rotate(-45deg) translate3d(-5.71429px, -6px, 0);
-    opacity: 0; 
-    background-color: $color_white;
-  }
-  .hamburger--slider.is-active .hamburger-inner::after {
-    transform: translate3d(0, -20px, 0) rotate(-90deg); 
-    background-color: $color_white;
-  }
diff --git a/_sass/_header.scss b/_sass/_header.scss
index 737d534a..6a8c3aa5 100644
--- a/_sass/_header.scss
+++ b/_sass/_header.scss
@@ -1,28 +1,100 @@
-header{
-  background-color:$color_light_blue;
-  .hamburger{
+header {
+  background-color: $color_light_blue;
+
+  .mobile-header {
+    height: 52px;
+    padding: 0 20px;
     display: none;
-    &:focus{
-      outline: none;
+    flex-direction: column;
+    justify-content: center;
+
+    a {
+      color: $color_white;
+      text-decoration: none;
+      font-size: 24px;
     }
-    @media only screen and (max-width: 540px){
-      display:inline-block;
-      position:absolute;
-      top: 0;
-      right: -3px;
+
+    .toggle {
+      display: flex;
+      position: absolute;
+      top: 14px;
+      right: 20px;
+
+      span {
+        width: 30px;
+        height: 25px;
+        background: transparent;
+        border: 0;
+        position: relative;
+        cursor: pointer;
+
+        i {
+          background: $color_white;
+          position: absolute;
+          border-radius: 5px;
+          height: 20%;
+          right: 0;
+          transition: all 0.5s;
+
+          &:nth-child(1) {
+            width: 100%;
+            top: 0;
+          }
+
+          &:nth-child(2) {
+            width: 75%;
+            top: 40%;
+          }
+
+          &:nth-child(3) {
+            width: 50%;
+            top: 80%;
+          }
+        }
+      }
+
+      &.is-active {
+        span i {
+
+
+          &:nth-child(1) {
+            width: 100%;
+            top: 40%;
+            transform: rotate(45deg);
+          }
+
+          &:nth-child(2) {
+            width: 100%;
+            top: 40%;
+            transform: rotate(-45deg);
+          }
+
+          &:nth-child(3) {
+            width: 0%;
+            top: 80%;
+            transition: all 0s;
+          }
+        }
+      }
+    }
+
+    @media only screen and (max-width:540px) {
+      display: flex;
     }
   }
-  nav.desktop-nav{
-    max-width:1100px;
+
+  nav.desktop-nav {
+    max-width: 1100px;
     margin: 0 auto;
     display: grid;
     grid-template-rows: minmax(50px, 1fr);
-    grid-template-columns: repeat(4,1fr);
-    
-    div{
+    grid-template-columns: repeat(4, 1fr);
+
+    div {
       text-align: center;
       height: 100%;
-      p{
+
+      p {
         display: inline-block;
         color: $color_white;
         font-size: 16px;
@@ -30,48 +102,81 @@ header{
         padding: 0;
         margin: 0;
       }
-      &:hover, &:focus, &:active{
-        p{
+
+      &:hover,
+      &:focus,
+      &:active {
+        p {
           color: $color_yellow;
         }
       }
-      a{
-        &:active div p{
-          color:$color_yellow;
+
+      a {
+        &:active div p {
+          color: $color_yellow;
         }
       }
     }
-    @media only screen and (max-width: 540px){
-      display:none;
+
+    @media only screen and (max-width: 540px) {
+      display: none;
     }
   }
-  @media only screen and (max-width: 540px){
-    nav.desktop-nav{
-      display:none;
-      a:first-child{
-        div{
-          border-top: solid 1px $color_dark_blue;
+
+  @media only screen and (max-width: 540px) {
+    nav.desktop-nav {
+      display: block;
+      position: absolute;
+      height: 0;
+      transition: height 0.5s;
+
+      a {
+        div {
+          text-align: unset;
+          padding: 0 0 0 20px;
+          border-left: none;
+          display: block;
+          background-color: $color_white;
+          opacity: 0;
+          transition: opacity 0.5s;
+          width: 100%;
+
+          p {
+            color: $color_dark_blue;
+          }
+
+          &:last-child {
+            border-right: none;
+          }
         }
-      }
-      div{
-        text-align: center;
-        border-left: none;
-        display: block;
-        border-bottom: solid 1px $color_dark_blue;
-        background-color: $color_light_blue;
-        width: 100%;
-        &:last-child{
-          border-right: none;
+
+        &:last-child {
+          div{
+            padding-bottom: 20px;
+            position: relative;
+
+            &::after {
+              content: '';
+              position: absolute;
+              top: 55px;
+              left: calc(50% - 64px);
+              right: calc(50% - 64px);
+              border: solid 1px $color_grey_very_light;
+            }
+          }
         }
       }
-      &.expanded{
-        float:none;
-        clear:both;
-        display: block;
+
+      &.expanded {
+        height: 50px;
         margin: 0 0 -20px;
         z-index: 100;
-        width: 100%;
+        width: calc(100% - 20px);
+
+        div {
+          opacity: 1;
+        }
       }
     }
   }
-}
+}
\ No newline at end of file
diff --git a/_sass/_settings.scss b/_sass/_settings.scss
index b843a52c..4c3d09ae 100644
--- a/_sass/_settings.scss
+++ b/_sass/_settings.scss
@@ -5,6 +5,7 @@ $color_light_blue: #118ab2;
 $color_dark_blue: #073b4c;
 $color_white:#fff;
 $color_black:#000;
+$color_grey_very_light: #eaeaea;
 $color_grey_light: #999;
 $color_grey_medium: #777;
 $color_grey_dark: #555;
-- 
2.17.1

